{
"broker": {
    "host":"127.0.0.1",
    "port": 1883,
    "clientId": "ThingsBoard_gateway",
    "security": {
      "type": "anonymous"
    }
  },
  "mapping": [
    {
      "topicFilter": "shellies/+/sensor/#",
      "converter": {
        "type": "custom",
        "deviceNameTopicExpression": "(?<=shellies\/)(?>\/)|[^\/]+",
        "deviceTypeTopicExpression": "Thermometer",
        "extension": "ShellyConverter"
     }
    },
    {
      "topicFilter": "shellies/+/emeter/#",
      "converter": {
      	"type": "custom",
        "deviceNameTopicExpression": "(?<=shellies\/)(?>\/)|[^\/]+",
        "deviceTypeTopicExpression": "E-Meter",
        "extension": "ShellyConverter"
      }
    },
    {
      "topicFilter": "shellies/+/relay/#",
      "converter": {
      	"type": "custom",
        "deviceNameTopicExpression": "(?<=shellies\/)(?>\/)|[^\/]+",
        "deviceTypeTopicExpression": "Relay\/Meter",
        "extension": "ShellyConverter"
      }
    },
    {
      "topicFilter": "shellies/+/temperature",
      "converter": {
      	"type": "custom",
        "deviceNameTopicExpression": "(?<=shellies\/)(?>\/)|[^\/]+",
        "deviceTypeTopicExpression": "GeneralShelly",
        "extension": "ShellyConverter"
      }
    },
    {
       "topicFilter": "tele/+/+/SENSOR",
       "converter": {
         "type": "custom",
         "deviceNameJsonExpression": "${*.Name}",
         "deviceTypeTopicExpression": "${placeholder}",
	       "extension": "ZbTasmotaConverter"
       }
     }
  ],
  "connectRequests": [
    {
      "topicFilter": "tele/+/+/SENSOR",
      "deviceNameJsonExpression": "${*.Name}"
    },
    {
      "topicFilter": "shellies/announce",
      "deviceNameJsonExpression": "${id}"
    }
  ],
  "serverSideRpc": [
    {
      "deviceNameFilter": ".*",
      "methodFilter": "setRelay",
      "requestTopicExpression": "shellies/${deviceName}/relay/${relayId}/command",
      "valueExpression": "${value}"
    }
  ]
}

